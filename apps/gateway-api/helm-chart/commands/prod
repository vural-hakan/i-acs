helm upgrade -i prod-gateway-api helm-chart \
  --set environment.projectid=iacs-project \
  --set deploy.image=prod-gateway-api \
  --set deploy.tag=0.0.1 \
  --set deploy.port=8080 \
  --set deploy.name=prod-gateway-api \
  --set deploy.namespace=prod \
  --set deploy.resources.requestCpu=100m \
  --set deploy.resources.requestMemory=128Mi \
  --set deploy.resources.limitCpu=1 \
  --set deploy.resources.limitMemory=1Gi \
  --set deploy.replicas=1 \
  --set probe.enabled=true \
  --set probe.pathreadiness=/ping \
  --set probe.pathliveness=/ping \
  --set probe.port=8080 \
  --set probe.readinessinitialDelaySeconds=15 \
  --set probe.livenessinitialDelaySeconds=30 \
  --set probe.timeoutSeconds=10 \
  --set probe.failureThreshold=3 \
  --set probe.periodSeconds=15 \
  --set ingress.enabled=true \
  --set ingress.class=alb \
  --set ingress.scheme=internet-facing \
  --set ingress.targettype=instance \
  --set ingress.host=iacs.prod.gateway.api \
  --set ingress.healthcheck.enabled=true \
  --set ingress.healthcheck.path=/ping \
  --set svc.name=prod-gateway-api-svc \
  --set svc.enabled=true \
  --set svc.port=8080 \
  --set svc.nodePort=30201 \
  --set configMapRef.enabled=true \
  --set configMapRef.name=prod-gateway-configs \
  --set secretRef.enabled=true \
  --set secretRef.name=prod-iacs-secrets \
  -n prod

